<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{layout/layout}">

<div class="container-md" layout:fragment="content">
    <h1> My Spring Boot_JPA Project </h1>
    <div class="row align-items-start">
        <div class="col mt-5">
            <h3>Best_view Post</h3>
            <div class="card" style="width: 18rem;" th:each="boardDTO:${bestList}">
                <div class="card-body">
                    <a th:href="@{/board/detail(bno=${boardDTO.bno})}" >
                        <h5 class="card-title">[[${boardDTO.title}]]</h5>
                    </a>
                    <p class="card-text">[[${boardDTO.regDate}]]</p>
                    <span class="badge rounded-pill text-bg-primary">readCount [[${boardDTO.readCount}]]</span>
                    <span class="badge rounded-pill text-bg-success">cmt [[${boardDTO.cmtQty}]]</span>
                    <span class="badge rounded-pill text-bg-warning">file [[${boardDTO.fileQty}]]</span>
                </div>
            </div>
        </div>
        <div class="col mt-5">
            <h3>Best_Comment Post</h3>
            <div class="card" style="width: 18rem;" th:each="boardDTO:${bestCommentList}">
                <div class="card-body">
                    <a th:href="@{/board/detail(bno=${boardDTO.bno})}" >
                        <h5 class="card-title">[[${boardDTO.title}]]</h5>
                    </a>
                    <p class="card-text">[[${boardDTO.regDate}]]</p>
                    <span class="badge rounded-pill text-bg-primary">readCount [[${boardDTO.readCount}]]</span>
                    <span class="badge rounded-pill text-bg-success">cmt [[${boardDTO.cmtQty}]]</span>
                    <span class="badge rounded-pill text-bg-warning">file [[${boardDTO.fileQty}]]</span>
                </div>
            </div>
        </div>
    </div>

    <th:block >
        <input type="hidden" id="modMsg" th:value="${modMsg}">
        <input type="hidden" id="delMsg" th:value="${delMsg}">
        <script inline="javascript">

            let modMsg = document.getElementById('modMsg').value;
            let delMsg = document.getElementById('delMsg').value;

            if(modMsg != "" || delMsg != ""){
                console.log(modMsg);
            console.log(delMsg);

            if( modMsg == 'ok') {
                alert("회원정보수정이 완료되었습니다. 다시 로그인해주세요.");
            }
            if( modMsg == 'fail') {
                alert("회원정보수정이 실패했습니다. 다시 시도해주세요");
            }

            if( delMsg == 'ok') {
                alert("회원탈퇴가 완료되었습니다.");
            }
            if( delMsg == 'fail') {
                alert("회원탈퇴 시도가 실패했습니다. 다시 시도해주세요");
            }
            }
        </script>
    </th:block>


</div>